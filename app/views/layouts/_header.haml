-# frozen_string_literal: true

- resume_url = '/Chip_Kragt_Resume.pdf'

%header.s-topbar.ps-fixed.t0.l0.js-top-bar
  .s-topbar--container
    %a.s-topbar--menu-btn.js-left-sidebar-toggle{ href: '#', role: 'menuitem', aria: { controls: 'left-sidebar', expanded: 'false', haspopup: 'true' } }
      %span
    .topbar-dialog.leftnav-dialog.js-leftnav-dialog.dno
      .left-sidebar.js-unpinned-left-sidebar
    %a.s-topbar--logo{ href: '/' }
      %span.logo Chip Overflow
    %ol.s-navigation{ role: 'presentation' }
      %li
        %a.s-navigation--item{ href: resume_url, target: '_blank' }
          Résumé
    = render 'layouts/search'
    %nav.h100.ml-auto.overflow-x-auto.pr12
      %ol.s-topbar--content{ role: 'menubar' }
        %li{ role: 'none' }
          %button.s-topbar--item.s-btn.s-btn__icon.s-btn__muted.d-none.sm.js-searchbar-trigger{ role: 'menuitem', title: 'Click to show search', aria: { controls: 'search', haspopup: 'true', label: 'Search' } }
            %svg.svg-icon.iconSearch{ 'aria-hidden' => 'true', height: '18', viewbox: '0 0 18 18', width: '18' }
              %path{ d: 'm18 16.5-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5ZM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0Z' }
        %li{ role: 'none' }
          %a.s-topbar--item.s-user-card.s-user-card.m0.px12{ href: sign_in_path, role: 'menuitem' }
            .s-avatar.s-avatar__24.s-user-card--avatar{ title: 'Chiperific' }
              %img.bar-sm.s-avatar--image.js-avatar-me{ alt: "Chiperific's face", width: '24', height: '24', src: 'https://www.gravatar.com/avatar/5c7a5fcd85529e17f9aa86c1e9a5490e?s=48&d=identicon&r=PG' }
            %span.v-visible-sr Chiperific
            .s-user-card--info
              %ul.s-user-card--awards
                %li.s-user-card--rep.js-header-rep{ 'aria-hidden' => 'true', title: "my reputation: #{human_number @reputation}" }
                  = human_number @reputation
                  %span.v-visible-sr , #{human_number @reputation} reputation
                %li.-badges.mr0
                  %span{ 'aria-hidden' => 'true', title: "#{human_number @gold_badges} gold badges" }
                    %span.badge1 ●
                    %span.badgecount= human_number @gold_badges
                  %span.v-visible-sr #{human_number @gold_badges} gold badges
                  %span{ 'aria-hidden' => 'true', title: "#{human_number @silver_badges} silver badges" }
                    %span.badge2 ●
                    %span.badgecount= human_number @silver_badges
                  %span.v-visible-sr #{human_number @silver_badges} silver badges
                  %span{ 'aria-hidden' => 'true', title: "#{human_number @bronze_badges} bronze badges" }
                    %span.badge3 ●
                    %span.badgecount= human_number @bronze_badges
                  %span.v-visible-sr #{human_number @bronze_badges} bronze badges
        %li{ role: 'none' }
          %a.s-topbar--item{ href: '#', role: 'menuitem', title: 'Inbox', 'aria-controls' => 'inbox-popover', data: { 'unread-count' => 2, controller: 's-popover', action: 's-popover#toggle', 's-popover-placement': 'bottom-end' } }
            %svg.svg-icon.iconInbox{ 'aria-hidden' => 'true', height: '18', viewbox: '0 0 20 18', width: '20' }
              %path{ d: 'M4.63 1h10.56a2 2 0 0 1 1.94 1.35L20 10.79V15a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-4.21l2.78-8.44c.25-.8 1-1.36 1.85-1.35Zm8.28 12 2-2h2.95l-2.44-7.32a1 1 0 0 0-.95-.68H5.35a1 1 0 0 0-.95.68L1.96 11h2.95l2 2h6Z' }
            %span.s-activity-indicator.s-activity-indicator__danger.js-unread-count 2
        = render 'layouts/inbox_popover'
        %li{ role: 'none' }
          %a.s-topbar--item.js-achievements-button{ href: '/sigin', role: 'menuitem', title: 'Achievements', data: { 'lit-up' => 'false', 'unread-count' => '0' } }
            %svg.svg-icon.iconAchievements{ 'aria-hidden' => 'true', height: '18', viewbox: '0 0 18 18', width: '18' }
              %path{ d: 'M15 2V1H3v1H0v4c0 1.6 1.4 3 3 3v1c.4 1.5 3 2.6 5 3v2H5s-1 1.5-1 2h10c0-.4-1-2-1-2h-3v-2c2-.4 4.6-1.5 5-3V9c1.6-.2 3-1.4 3-3V2h-3ZM3 7c-.5 0-1-.5-1-1V4h1v3Zm8.4 2.5L9 8 6.6 9.4l1-2.7L5 5h3l1-2.7L10 5h2.8l-2.3 1.8 1 2.7h-.1ZM16 6c0 .5-.5 1-1 1V4h1v2Z' }
        %li{ role: 'none' }
          %a#review-button.s-topbar--item.js-review-button{ 'aria-label' => 'Résumé', href: resume_url, role: 'menuitem', title: 'Résumé', target: '_blank' }
            %svg.svg-icon.iconReviewQueue{ 'aria-hidden' => 'true', height: '18', viewbox: '0 0 18 18', width: '18' }
              %path{ d: 'm11 12.47 5-4.97V3a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6.5l-2.79-2.8a1 1 0 0 1 0-1.4l2.1-2.1a1 1 0 0 1 1.4 0L11 12.47ZM2 7h10v2H2V7Zm0-4h12v2H2V3Zm0 10v-2h3v2H2Zm9 4.5 7-7L16.5 9 11 14.5 8.5 12 7 13.5l4 4Z' }
            .s-activity-indicator.s-activity-indicator__success
              .v-visible-sr Résumé
        %li{ role: 'none' }
          %a.s-topbar--item.js-help-button{ href: '/signin', role: 'menuitem', title: 'Help' }
            %svg.svg-icon.iconHelp{ 'aria-hidden' => 'true', height: '18', viewbox: '0 0 18 18', width: '18' }
              %path{ d: 'M9 1C4.64 1 1 4.64 1 9c0 4.36 3.64 8 8 8 4.36 0 8-3.64 8-8 0-4.36-3.64-8-8-8Zm.81 12.13c-.02.71-.55 1.15-1.24 1.13-.66-.02-1.17-.49-1.15-1.2.02-.72.56-1.18 1.22-1.16.7.03 1.2.51 1.17 1.23ZM11.77 8c-.59.66-1.78 1.09-2.05 1.97a4 4 0 0 0-.09.75c0 .05-.03.16-.18.16H7.88c-.16 0-.18-.1-.18-.15.06-1.35.66-2.2 1.83-2.88.39-.29.7-.75.7-1.24.01-1.24-1.64-1.82-2.35-.72-.21.33-.18.73-.18 1.1H5.75c0-1.97 1.03-3.26 3.03-3.26 1.75 0 3.47.87 3.47 2.83 0 .57-.2 1.05-.48 1.44Z' }
        %li{ role: 'none' }
          %a.s-topbar--item{ 'aria-label' => 'Contact', href: sign_in_path, role: 'menuitem', title: 'Contact' }
            %svg.svg-icon{ 'aria-hidden' => 'true', height: '18', viewbox: '0 0 20 20', width: '18' }
              %path{ d: 'M 15 1 H 3 a 2 2 0 0 0 -2 2 v 12 c 0 1.1 0.9 2 2 2 h 8 v 3 l 3 -3 h 1 a 2 2 0 0 0 2 -2 v -12 a 2 2 0 0 0 -2 -2' }
